{
  "[beancount]": {},
  "[dockercompose]": {
    "editor.insertSpaces": true,
    "editor.tabSize": 2,
    "editor.autoIndent": "advanced",
    "editor.quickSuggestions": {
      "other": true,
      "comments": false,
      "strings": true,
    },
    "editor.defaultFormatter": "redhat.vscode-yaml",
  },
  "[fish]": {
    "editor.defaultFormatter": "bmalehorn.vscode-fish",
  },
  "[github-actions-workflow]": {
    "editor.defaultFormatter": "redhat.vscode-yaml",
  },
  "[html]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode",
  },
  "[java]": {
    "editor.defaultFormatter": "redhat.java",
    "editor.tabSize": 4,
  },
  "[javascript]": {
    "editor.tabSize": 2,
  },
  "[nix]": {
    "editor.defaultFormatter": "jnoortheen.nix-ide",
  },
  "[markdown]": {
    "editor.defaultFormatter": "DavidAnson.vscode-markdownlint",
  },
  "[python]": {
    "editor.tabSize": 2,
  },
  "[rust]": {
    "editor.defaultFormatter": "rust-lang.rust-analyzer",
  },
  "[textproto]": {
    "editor.defaultFormatter": "seaube.clangformat",
  },
  "[xml]": {
    "editor.defaultFormatter": "redhat.vscode-xml",
    "editor.tabSize": 2,
  },

  "cSpell.userWords": [
    "automagic",
    "automagically",
    "enola",
    "errorprone",
    "genai",
    "jspecify",
    "ltgt",
    "nullaway",
    "Proto",
    "vorburger",
  ],

  "diffEditor.experimental.showMoves": true,
  "diffEditor.renderSideBySide": false,

  "editor.bracketPairColorization.independentColorPoolPerBracketType": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.shellcheck": "always",
    // Used by at least JS as well as Java
    "source.organizeImports": "always",
    "source.addMissingImports": "always",
  },
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.detectIndentation": false,
  "editor.foldingImportsByDefault": true,
  "editor.fontSize": 12,
  // https://github.com/tonsky/FiraCode/wiki/VS-Code-Instructions
  "editor.fontFamily": "'FiraCode Nerd Font', 'Fira Code', 'Droid Sans Mono', 'monospace', monospace",
  "editor.fontLigatures": true,
  // formatOnType and formatOnPaste is a very bad idea for slow formatters
  // (such as an external Google Java Format invocation exec), so just on Save.
  "editor.formatOnPaste": false,
  "editor.formatOnSave": true,
  "editor.formatOnType": false,
  "editor.indentSize": "tabSize",
  "editor.inlineSuggest.enabled": true,
  "editor.lineNumbers": "off",
  // https://code.visualstudio.com/docs/languages/html#_auto-update-tags
  "editor.linkedEditing": true,
  "editor.minimap.enabled": false,
  "editor.renderLineHighlight": "all",
  "editor.renderWhitespace": "none",
  "editor.suggestSelection": "first",
  "editor.tabSize": 4,

  "explorer.confirmDragAndDrop": false,
  "explorer.confirmDelete": false,

  "files.autoGuessEncoding": true,
  "files.autoSave": "onFocusChange",
  "files.autoSaveDelay": 500,
  "files.associations": {
    "AUTHORS": "plaintext",
  },
  "files.exclude": {
    "**/.classpath": true,
    "**/.factorypath": true,
    "**/.project": true,
    "**/.settings": true,
  },
  "files.insertFinalNewline": true,
  "files.trimTrailingWhitespace": true,

  "git.autofetch": false,
  "git.confirmSync": false,
  "git.openRepositoryInParentFolders": "always",
  "github.gitProtocol": "ssh",
  "githubPullRequests.pullBranch": "never",
  "githubPullRequests.pushBranch": "always",
  "gitlens.codeLens.scopes": ["document"],

  // G
  "go.alternateTools": {
    "gocode": "/usr/bin/gocode",
    "godoc": "/usr/bin/godoc",
    "goimports": "/usr/bin/goimports",
    "gorename": "/usr/bin/gorename",
    "guru": "/usr/bin/guru",
  },
  "go.autocompleteUnimportedPackages": true,
  "go.buildOnSave": "off",
  "go.docsTool": "guru",
  "go.formatTool": "goimports",
  "go.gocodeAutoBuild": false,
  "go.inferGopath": false,
  "go.toolsManagement.autoUpdate": true,
  "go.vetOnSave": "off",

  // https://code.visualstudio.com/docs/languages/html#_formatting but note that Prettier may have different formatting!
  "html.format.wrapAttributes": "preserve-aligned",
  "html.suggest.html5": true,
  "java.cleanup.actions": [
    "addOverride",
    "addDeprecated",
    "stringConcatToTextBlock",
    "invertEquals",
  ],

  "java.codeGeneration.hashCodeEquals.useJava7Objects": true,
  "java.codeGeneration.toString.codeStyle": "STRING_BUILDER_CHAINED",
  "java.codeGeneration.toString.limitElements": 7,
  "java.codeGeneration.useBlocks": true,
  "java.completion.favoriteStaticMembers": [
    "org.junit.Assert.*",
    "org.junit.Assume.*",
    "org.junit.jupiter.api.Assertions.*",
    "org.junit.jupiter.api.Assumptions.*",
    "org.junit.jupiter.api.DynamicContainer.*",
    "org.junit.jupiter.api.DynamicTest.*",
    "org.mockito.Mockito.*",
    "org.mockito.ArgumentMatchers.*",
    "org.mockito.Answers.*",
  ],
  // This is BROKEN - it re-formats Java code wrong, and breaks Class JavaDoc.
  // "java.completion.importOrder": [],
  "java.saveActions.organizeImports": false,

  /* https://github.com/enola-dev/enola/issues/546
  "java.configuration.runtimes": [
    {
      "name": "JavaSE-21",
      "javadoc": "https://docs.oracle.com/en/java/javase/21/docs/api",
      "path": "/usr/lib/jvm/java-21/",
      "sources": "/usr/lib/jvm/java-21/lib/src.zip"
    }
  ], */
  "java.configuration.updateBuildConfiguration": "automatic",
  "java.debug.settings.hotCodeReplace": "auto",
  "java.eclipse.downloadSources": true,
  "java.editor.reloadChangedSources": "auto",
  "java.errors.incompleteClasspath.severity": "error",
  "java.format.comments.enabled": false,
  "java.format.onType.enabled": true,
  "java.implementationsCodeLens.enabled": true,
  // Java
  "java.project.importOnFirstTimeStartup": "automatic",
  "liveshare.launcherClient": "web",
  "markdown.validate.enabled": true,
  "markdown.validate.fileLinks.enabled": "error",
  "markdown.validate.fileLinks.markdownFragmentLinks": "error",
  "markdown.validate.fragmentLinks.enabled": "error",
  "markdownlint.config": {
    "MD026": {
      "punctuation": ",;:。，；：",
    },
    "MD034": false,
  },

  // Nix
  "nix.enableLanguageServer": true,
  "nix.serverPath": "nil",
  "nix.serverSettings": {
    "nixd": {
      // https://github.com/nix-community/nixd/blob/main/nixd/docs/configuration.md
      "formatting": {
        "command": ["nixfmt"],
      },
      "options": {
        // ...
      },
      "diagnostic": {
        // "suppress": ["sema-extra-with"]
      },
    },
    "nil": {
      "formatting": {
        "command": ["nixfmt"],
      },
      "options": {},
      "diagnostic": {},
    },
  },

  // G-like
  "redhat.telemetry.enabled": false,
  "remoteHub.commitDirectlyWarning": "off",
  "search.showLineNumbers": true,
  "security.workspace.trust.untrustedFiles": "open",
  "telemetry.enableCrashReporter": false,
  "telemetry.enableTelemetry": false,

  // https://code.visualstudio.com/docs/terminal/appearance
  "terminal.integrated.cursorStyle": "line",
  "terminal.integrated.cursorWidth": 2,
  "terminal.integrated.cursorBlinking": true,
  "terminal.integrated.cursorStyleInactive": "underline",
  "terminal.integrated.shell.linux": "/usr/bin/fish",
  "terminal.integrated.scrollback": 100000,

  "todohighlight.include": [
    "**/*.java",
    "**/*.js",
    "**/*.jsx",
    "**/*.ts",
    "**/*.tsx",
    "**/*.html",
    "**/*.css",
    "**/*.scss",
    "**/*.md",
    "**/*.txt",
    "**/*.rb",
    "**/*.go",
  ],
  // https://marketplace.visualstudio.com/items?itemName=jgclark.vscode-todo-highlight
  // successor of https://marketplace.visualstudio.com/items?itemName=wayou.vscode-todo-highlight
  // Possible alternative, if NOK: https://marketplace.visualstudio.com/items?itemName=fabiospampinato.vscode-highlight
  "todohighlight.keywords": ["TODO", "todo!()"], // todo!() for https://doc.rust-lang.org/std/macro.todo.html

  "vsicons.dontShowNewVersionMessage": true,
  "vsintellicode.modify.editor.suggestSelection": "automaticallyOverrodeDefaultValue",

  "window.commandCenter": true,
  "window.menuBarVisibility": "classic",
  // https://github.com/Microsoft/vscode-docs/blob/vnext/release-notes/v1_9.md#control-the-dimensions-of-new-windows
  "window.newWindowDimensions": "fullscreen",
  "window.restoreFullscreen": true,
  "window.titleBarStyle": "custom",
  "window.zoomLevel": 3,

  "workbench.colorCustomizations": {
    // "editorError.foreground": "#00000000",
    // "editorWarning.foreground": "#00000000",
    "editorInfo.foreground": "#26d20c54",
  },

  // https://github.com/piousdeer/vscode-adwaita#suggested-settings
  "workbench.colorTheme": "Adwaita Dark & default syntax highlighting & colorful status bar",
  "workbench.iconTheme": "vscode-icons",
  "workbench.preferredDarkColorTheme": "Adwaita Dark",
  "workbench.preferredLightColorTheme": "Adwaita Light",
  "workbench.settings.openDefaultKeybindings": true,
  "workbench.startupEditor": "none",
  "workbench.tree.indent": 12,
  "gitlens.launchpad.indicator.enabled": false,
  "explorer.confirmPasteNative": false,

  "editor.inlineSuggest.suppressSuggestions": true,
  "geminicodeassist.inlineSuggestions.enableAuto": true,
  "geminicodeassist.project": "",
  "diffEditor.codeLens": true,

  "chat.emptyState.history.enabled": true,
  "chat.mcp.autostart": "newAndOutdated",
  "chat.mcp.gallery.enabled": true,
  "chat.useNestedAgentsMdFiles": true,
  "chat.agentSessionsViewLocation": "view",

  "github.copilot.enable": {
    "*": true,
    "markdown": true,
    "plaintext": true,
    "scminput": true,
    "beancount": false,
  },
  "github.copilot.nextEditSuggestions.enabled": true,
  "github.copilot.chat.codesearch.enabled": true,
  "github.copilot.chat.agent.thinkingTool": true,
  "github.copilot.chat.editor.temporalContext.enabled": true,
  "github.copilot.chat.edits.temporalContext.enabled": true,
  "github.copilot.chat.languageContext.fix.typescript.enabled": true,
  "github.copilot.chat.languageContext.inline.typescript.enabled": true,
  "github.copilot.chat.languageContext.typescript.enabled": true,
  "githubPullRequests.codingAgent.uiIntegration": true,
  "githubPullRequests.assignCreated": "${user}",
  "chat.tools.terminal.autoApprove": {
    "gradle clean": true,
    "./test": true,
    "/^gradle eclipse && cat \\.classpath$/": {
      "approve": true,
      "matchCommandLine": true,
    },
    "/^gradle build$/": {
      "approve": true,
      "matchCommandLine": true,
    },
    "/^gradle eclipse$/": {
      "approve": true,
      "matchCommandLine": true,
    },
    "gradle test": true,
    "javap": true,
    "/^gradle cleanTest test$/": {
      "approve": true,
      "matchCommandLine": true,
    },
    "/^podman build -t enola2 \\.$/": {
      "approve": true,
      "matchCommandLine": true,
    },
  },
  "gradle.showStoppedDaemons": true,
  "docker.extension.enableComposeLanguageServer": false,
  "[dockerfile]": {
    "editor.defaultFormatter": "ms-azuretools.vscode-containers",
  },
  "chat.tools.urls.autoApprove": {
    "https://javalin.io": true,
  },
}
