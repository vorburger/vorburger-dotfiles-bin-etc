# https://starship.rs/config/

# This does NOT avoid line break in the prompt; see https://github.com/starship/starship/issues/1987
# add_newline = false

# Move Kubernetes to end instead of start as per default
format="$all$kubernetes$cmd_duration$character"

[line_break]
disabled = true

[directory]
truncation_symbol = "…/"

[java]
# drop Java version from prompt; format default = "via [${symbol}${version}]($style) "
format = "via [${symbol}]($style)"
style = "bold blue"
# symbol = " " # cute, but too faint

[username]
format = "[$user]($style) on "  # use 'on' instead of default 'in'
disabled = true
# Disabled because otherwise it's always shown in the dotfiles container
# (because we use it via SSH) and is more in the way than particularly useful,
# at least in Starship v1.10.3.

[hostname]
disabled = true
# same reason as for username, see above

[cmd_duration]
show_notifications = true

[gcloud]
style = "dimmed blue"
# drop account from prompt; format default = 'on [$symbol$account(@$domain)(\($region\))]($style) '
# format = 'on [$symbol$project(\($region\))]($style) '
format = 'on [$symbol(\($region\))]($style) '
symbol = '☁️'
# https://github.com/starship/starship/issues/3538
# [gcloud.project_aliases]
# "vorburger-learn-appengin" = "learn"

[kubernetes]
disabled = false
[kubernetes.context_aliases]
"gke_oasis-learn-study_europe-west4_cluster1" = "oasis"

[git_metrics]
disabled = false

[status]
disabled = false

[sudo]
disabled = true
# This doesn't appear to work within containers (at least in Starship v1.10.3),
# and is always shown, even if no sudo was done, and even after "sudo -K" drops it.
# Or perhaps it's not container related but because the dotfiles devshell container
# has /etc/sudoers with NOPASSWD for %wheel.   Same in GitHub Codespaces as well.
# Either way - it's ugly / in the way and useless if it's always shown.

[[battery.display]]
threshold = 50

[docker_context]
disabled = true

[container]
disabled = true

[ruby]
# RUBY_VERSION is *always* set in GitHub Codespaces, so it adds no value
detect_variables=["RBENV_VERSION"]
